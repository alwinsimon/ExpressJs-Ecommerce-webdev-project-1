{{!-- ============================== Manage Active Offers ============================== --}}

<div style="margin-top: 20px; margin-bottom: 90px; padding-top: 5px; padding-bottom: 90px;">

    <div class="container">

        <div class="col-12">

            <div class="bg-light rounded h-100 p-4">

                <h6 class="mb-4 text-center">Manage Offers</h6>

                {{!-- ================================== Active Offers Data Table ================================== --}}

                <div class="table-responsive">

                    <table class="table">

                        {{!-- Table Head --}}
                        <thead>

                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Status</th>
                                <th scope="col">Description</th>
                                <th scope="col">Discount %</th>
                                <th scope="col">Max Discount</th>
                                <th scope="col">Min Order Value</th>
                                <th scope="col">Expires On</th>
                                <th scope="col">Usage Count</th>
                                <th scope="col">Action</th>
                            </tr>

                        </thead>

                        {{!-- Table Body --}}
                        <tbody>

                            {{#each activeOfferData}}

                                <tr>
                                    <td>{{this.offerName}}</td>
                                    <td>
                                        {{#if this.activeOffer}}
                                            <i class="fas fa-check-circle text-success"></i> Active
                                        {{else}}
                                            <i class="fas fa-lock text-danger"></i> Inactive
                                        {{/if}}
                                    </td>
                                    <td>{{this.offerDescription}}</td>
                                    <td>{{this.discountPercentage}}</td>
                                    <td>{{this.maxDiscountAmount}}</td>
                                    <td>{{this.minOrderValue}}</td>
                                    <td>{{this.expiryDate}}</td>
                                    <td>{{this.usageCount}}</td>

                                    <td>

                                        <a href="/admin/edit-offer/{{this.offerName}}" class="btn btn-info rounded-pill m-1">EDIT</a>
                                    
                                        <form action="/admin/change-offer-status" method="POST" class="col-md-2">
                                    
                                            <input type="hidden" name="offerId" value="{{this._id}}">
                                    
                                            <button class="btn btn-danger rounded-pill m-1"
                                                onclick="return confirm('Are you sure that you want to deactivate {{this.offerName}} offer?')"
                                                type="submit" >DEACTIVATE</button>
                                    
                                        </form>

                                    </td>

                                </tr>

                            {{/each}}

                        </tbody>

                    </table>

                </div>


            </div>
            
        </div>

    </div>

</div>